package com.sdyin.dsag.arithmetic.alg.leetcode;

import java.util.Arrays;

/**
 * @Description: 135.åˆ†å‘ç³–æœ
 * //è€å¸ˆæƒ³ç»™å­©å­ä»¬åˆ†å‘ç³–æœï¼Œæœ‰ N ä¸ªå­©å­ç«™æˆäº†ä¸€æ¡ç›´çº¿ï¼Œè€å¸ˆä¼šæ ¹æ®æ¯ä¸ªå­©å­çš„è¡¨ç°ï¼Œé¢„å…ˆç»™ä»–ä»¬è¯„åˆ†ã€‚
 * //
 * // ä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹è¦æ±‚ï¼Œå¸®åŠ©è€å¸ˆç»™è¿™äº›å­©å­åˆ†å‘ç³–æœï¼š
 * //
 * //
 * // æ¯ä¸ªå­©å­è‡³å°‘åˆ†é…åˆ° 1 ä¸ªç³–æœã€‚
 * // ç›¸é‚»çš„å­©å­ä¸­ï¼Œè¯„åˆ†é«˜çš„å­©å­å¿…é¡»è·å¾—æ›´å¤šçš„ç³–æœã€‚
 * //
 * //
 * // é‚£ä¹ˆè¿™æ ·ä¸‹æ¥ï¼Œè€å¸ˆè‡³å°‘éœ€è¦å‡†å¤‡å¤šå°‘é¢—ç³–æœå‘¢ï¼Ÿ
 * //
 * // ç¤ºä¾‹ 1:
 * //
 * // è¾“å…¥: [1,0,2]
 * //è¾“å‡º: 5
 * //è§£é‡Š: ä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 2ã€1ã€2 é¢—ç³–æœã€‚
 * //
 * //
 * // ç¤ºä¾‹ 2:
 * //
 * // è¾“å…¥: [1,2,2]
 * //è¾“å‡º: 4
 * //è§£é‡Š: ä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 1ã€2ã€1 é¢—ç³–æœã€‚
 * //     ç¬¬ä¸‰ä¸ªå­©å­åªå¾—åˆ° 1 é¢—ç³–æœï¼Œè¿™å·²æ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶ã€‚
 * // Related Topics è´ªå¿ƒç®—æ³•
 * // ğŸ‘ 377 ğŸ‘ 0
 * @Author: liuye
 * @time: 2020/12/24$ ä¸‹åˆ2:58$
 */
public class Candy135 {

    /**
     * ç®—æ³•æ€è·¯ï¼š
     * åˆå§‹æ¯ä¸ªå­©å­1é¢—ç³–
     * ä»å·¦å¼€å§‹ï¼Œå¦‚æœ i> i-1,åˆ™ç¬¬iä¸ªå­©å­å¤šä¸€é¢—ç³–
     *          å¦‚æœ i <= i-1,åˆ™ä¸å˜,å¿½ç•¥
     * å†ä»å³å¼€å§‹,å¦‚æœ i > i+1,åˆ™ç¬¬iä¸ªå­©å­å¤šä¸€é¢—ç³–
     *          å¦‚æœ i <= i+1,åˆ™ä¸å˜,å¿½ç•¥
     *
     */
    public static int candy(int[] ratings) {

        int[] left = new int[ratings.length];
        int[] right = new int[ratings.length];
        Arrays.fill(left, 1);
        Arrays.fill(right, 1);
        //ä»å·¦éå†
        //æ³¨æ„.å·¦å³éå†çš„æ•°ç»„æ˜¯ä¸¤ä¸ªæ•°ç»„ï¼Œä¸æ˜¯å…±äº«çš„ä¸€ä¸ªæ•°ç»„
        for (int i = 1; i < ratings.length; i++) {
            if (ratings[i] > ratings[i - 1]) {
                left[i] = left[i - 1] + 1;
            }
        }
        //æœ€å·¦çš„ç³–æœå€¼
        int count = left[ratings.length - 1];
        //ä»å³éå†
        for (int i = ratings.length - 2; i >= 0; i--) {
            if (ratings[i] > ratings[i + 1]) {
                right[i] = right[i + 1] + 1;
            }
            //ç´¯åŠ 
            count += Math.max(left[i], right[i]);
        }
        return count;
    }

    public static void main(String[] args) {
        int[] arr = {1,2,3,3,5};
        final int result = candy(arr);
        System.out.println(result);
    }
}
